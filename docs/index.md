
# Using the Pure Fusion Terraform provider
The Terraform Provider for Fusion is a plugin for Terraform that allows you to interact with Fusion. Fusion is a Pure Storage product that allows you to provision, manage, and consume enterprise storage with the simple on-demand provisioning, with effortless scale, and self-management of the cloud. Read more about fusion here. This provider can be used to manage consumer oriented resources such as volumes, hosts, placement groups, tenant spaces. You must have a Pure1 App ID (issuer) and private key file to access the Fusion API. Refer to the [API Client Creation Guide](https://support.purestorage.com/Pure_Fusion/Getting_Started_with_Pure_Fusion/Creating_and_API_Client//Application_Access_for_Fusion_or_Pure1_API_access) to create the Application ID.

### Example usage:
 - a tenant space
 - a host access policy
 - a placement group

Refer to the [GitHub repository](https://github.com/PureStorage-OpenConnect/terraform-provider-fusion/tree/main/examples/provider) for file examples.

```terraform
provider "fusion" {
    host             = var.hm_url
    issuer_id        = var.issuer_id
    private_key_file = var.private_key
}
resource "fusion_tenant_space" "fts" {
  name         = var.tenant_space_name
  display_name = var.tenant_space_display_name
  tenant_name  = var.tenant_name
}
resource "fusion_host_access_policy" "host_access_policy" {
  name          = "testhap"
  display_name  = "TestHostAccessPlcy"
  iqn           = "iqn.year-mo.org.debian:XX:XXXXXXXXXXXX"
  personality   = "linux"
}
resource "fusion_placement_group" "placement_group" {
  name                   = "pg-name"
  display_name           = "pg-display-name"
  tenant_name            = var.tenant_name
  tenant_space_name      = fusion_tenant_space.fts.name
  region_name            = var.region_name
  availability_zone_name = var.availability_zone
  storage_service_name   = var.storage_service
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `host` (String)
- `issuer_id` (String)
- `private_key_file` (String) You must have a Pure1 App ID (issuer) and private key file to access the Fusion API. Refer to the [API Client Creation Guide](https://support.purestorage.com/Pure_Fusion/Getting_Started_with_Pure_Fusion/Creating_and_API_Client//Application_Access_for_Fusion_or_Pure1_API_access) to create the Application ID.

### Example usage:
 - a tenant space
 - a host access policy
 - a placement group
*Requires a variables file*

```terraform
provider "fusion" {
    host             = var.hm_url
    issuer_id        = var.issuer_id
    private_key_file = var.private_key
}
resource "fusion_tenant_space" "fts" {
  name         = var.tenant_space_name
  display_name = var.tenant_space_display_name
  tenant_name  = var.tenant_name
}
resource "fusion_host_access_policy" "host_access_policy" {
  name          = "testhap"
  display_name  = "TestHostAccessPlcy"
  iqn           = "iqn.year-mo.org.debian:XX:XXXXXXXXXXXX"
  personality   = "linux"
}
resource "fusion_placement_group" "placement_group" {
  name                   = "pg-name"
  display_name           = "pg-display-name"
  tenant_name            = var.tenant_name
  tenant_space_name      = fusion_tenant_space.fts.name
  region_name            = var.region_name
  availability_zone_name = var.availability_zone
  storage_service_name   = var.storage_service
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `host` (String)
- `issuer_id` (String)
- `private_key_file` (String)
